---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import andrew from "../assets/andrew.jpg";
import daniel from "../assets/daniel.webp";
import content from '../i18n/en.json';

const { hero, automate, spotlight, founders, process, finalCta } = content.home;
---

<Layout>
  <section class="hero bg-base-100 pt-32 pb-16">
    <div class="hero-content text-center">
      <div class="max-w-3xl">
        <h1 class="font-display text-4xl font-bold tracking-tight text-base-content sm:text-5xl lg:text-6xl">
          {hero.title}
        </h1>
        <p class="mt-6 text-lg text-base-content/70 sm:text-xl">
          {hero.description}
        </p>
        <div class="mt-10 flex flex-wrap justify-center gap-4">
          <a href={hero.primaryLink} class="btn btn-primary">
            {hero.primaryCta}
          </a>
          <a
            href={hero.secondaryLink}
            class="btn btn-outline border-base-300 text-base-content hover:border-primary hover:text-primary"
            target="_blank"
            rel="noreferrer"
          >
            {hero.secondaryCta}
          </a>
        </div>
      </div>
    </div>
  </section>

  <section id="services" class="bg-base-200 py-20">
    <div class="container mx-auto px-4">
      <div class="max-w-2xl">
        <div class="badge badge-outline text-xs font-semibold uppercase tracking-[0.2em] text-primary">
          {automate.label}
        </div>
        <h2 class="font-display mt-4 text-3xl font-bold text-base-content sm:text-4xl">
          {automate.title}
        </h2>
        <p class="mt-4 text-base-content/70 sm:text-lg">
          {automate.subtitle}
        </p>
      </div>

      <div class="mt-12 grid gap-6 md:grid-cols-2 lg:grid-cols-4">
        {automate.cards.map((card) => (
          <a
            href={card.link}
            class="card border border-base-200 bg-base-100 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md"
          >
            <div class="card-body gap-4">
              <div class="badge badge-lg border-none bg-primary/10 text-primary">
                {card.icon}
              </div>
              <h3 class="card-title text-base-content">{card.title}</h3>
              <p class="text-sm text-base-content/70 sm:text-base">
                {card.description}
              </p>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <section id="product" class="py-20">
    <div class="container mx-auto px-4">
      <div
        data-theme="ziffa-dark"
        class="card relative overflow-hidden border border-base-300 bg-gradient-to-br from-base-100 to-base-200 text-base-content shadow-xl lg:card-side"
      >
        <div class="pointer-events-none absolute -top-40 -right-24 h-96 w-96 rounded-full bg-[radial-gradient(circle,rgba(201,162,39,0.18),transparent_70%)]"></div>

        <div class="card-body gap-4 lg:w-1/2">
          <div class="badge border-primary/40 bg-base-200/70 text-primary">
            {spotlight.badge}
          </div>
          <h2 class="font-display text-2xl font-bold sm:text-3xl">
            {spotlight.title}
          </h2>
          <p class="text-base-content/70">
            {spotlight.description}
          </p>
          <ul class="mt-2 space-y-3 text-sm text-base-content/80 sm:text-base">
            {spotlight.features.map((feature) => (
              <li class="flex items-start gap-3">
                <span class="text-primary">&#10003;</span>
                <span>{feature}</span>
              </li>
            ))}
          </ul>
          <div class="card-actions mt-2">
            <a
              href={spotlight.ctaLink}
              class="btn btn-primary"
              target="_blank"
              rel="noreferrer"
            >
              {spotlight.cta}
            </a>
          </div>
        </div>

        <div class="card-body lg:w-1/2 lg:pt-16">
          <div class="mockup-window border border-base-300 bg-base-200/40">
            <div class="space-y-3 bg-base-200/40 p-4 text-sm">
              {spotlight.rows.map((row, index) => (
                <div class={`flex items-center justify-between py-2 ${index < spotlight.rows.length - 1 ? 'border-b border-base-300/60' : ''}`}>
                  <span class="text-base-content/80">{row.name}</span>
                  <span class={`badge badge-sm ${row.tone === 'success' ? 'badge-success' : row.tone === 'warning' ? 'badge-warning' : 'badge-info'} badge-outline`}>
                    {row.status}
                  </span>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="about" class="py-20">
    <div class="container mx-auto px-4">
      <div class="max-w-2xl">
        <div class="badge badge-outline text-xs font-semibold uppercase tracking-[0.2em] text-primary">
          {founders.label}
        </div>
        <h2 class="font-display mt-4 text-3xl font-bold text-base-content sm:text-4xl">
          {founders.title}
        </h2>
        <p class="mt-4 text-base-content/70 sm:text-lg">
          {founders.subtitle}
        </p>
      </div>

      <div class="mt-10 grid gap-6 md:grid-cols-2">
        {founders.members.map((member) => (
          <div class="card border border-base-200 bg-base-100 shadow-sm">
            <div class="card-body gap-4">
              <div class="avatar placeholder">
                {member.image ? (
                  <div class="h-12 w-12 rounded-full bg-base-200">
                    <Image
                      src={member.image === 'andrew' ? andrew : daniel}
                      alt={`${member.name}, ${member.role}`}
                      class="h-full w-full rounded-full object-cover"
                    />
                  </div>
                ) : (
                  <div class="h-12 w-12 rounded-full bg-primary/10 text-sm font-bold text-primary flex items-center justify-center">
                    {member.initials}
                  </div>
                )}
              </div>
              <div>
                <h3 class="card-title text-base-content">{member.name}</h3>
                <p class="text-sm font-semibold text-primary">
                  {member.role}
                </p>
              </div>
              <p class="text-sm text-base-content/70 sm:text-base">
                {member.bio}
              </p>
              {(member.linkedin || member.website || member.x) && (
                <div class="card-actions gap-2">
                  {member.linkedin && (
                    <a href={member.linkedin} target="_blank" rel="noreferrer" class="btn btn-ghost btn-circle">
                      <svg fill="currentColor" viewBox="0 0 24 24" class="w-5 h-5">
                        <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                      </svg>
                    </a>
                  )}
                  {member.website && (
                    <a href={member.website} target="_blank" rel="noreferrer" class="btn btn-ghost btn-circle">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/>
                        <path d="M2 12h20"/>
                      </svg>
                    </a>
                  )}
                  {member.x && (
                    <a href={member.x} target="_blank" rel="noreferrer" class="btn btn-ghost btn-circle">
                      <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" class="w-5 h-5">
                        <g>
                          <path d="M21.742 21.75l-7.563-11.179 7.056-8.321h-2.456l-5.691 6.714-4.54-6.714H2.359l7.29 10.776L2.25 21.75h2.456l6.035-7.118 4.818 7.118h6.191-.008zM7.739 3.818L18.81 20.182h-2.447L5.29 3.818h2.447z"/>
                        </g>
                      </svg>
                    </a>
                  )}
                </div>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="bg-base-200 py-20">
    <div class="container mx-auto px-4 text-center">
      <div class="badge badge-outline text-xs font-semibold uppercase tracking-[0.2em] text-primary">
        {process.label}
      </div>
      <h2 class="font-display mx-auto mt-4 max-w-xl text-3xl font-bold text-base-content sm:text-4xl">
        {process.title}
      </h2>

      <div class="mt-12 grid gap-6 md:grid-cols-3">
        {process.steps.map((step, index) => (
          <div class="card border border-base-200 bg-base-100 text-center shadow-sm">
            <div class="card-body items-center gap-4">
              <div class="btn btn-primary btn-circle pointer-events-none">
                {index + 1}
              </div>
              <h3 class="card-title text-base-content">{step.title}</h3>
              <p class="text-sm text-base-content/70 sm:text-base">
                {step.description}
              </p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="bg-base-200 py-20">
    <div class="hero">
      <div class="hero-content text-center">
        <div class="max-w-2xl">
          <h2 class="font-display text-3xl font-bold text-base-content sm:text-4xl">
            {finalCta.title}
          </h2>
          <p class="mt-4 text-base-content/70 sm:text-lg">
            {finalCta.description}
          </p>
          <div class="mt-8 flex flex-wrap justify-center gap-4">
            <a href={finalCta.primaryLink} class="btn btn-primary">
              {finalCta.primaryCta}
            </a>
            <a
              href={finalCta.secondaryLink}
              class="btn btn-outline border-base-300 text-base-content hover:border-primary hover:text-primary"
            >
              {finalCta.secondaryCta}
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>
